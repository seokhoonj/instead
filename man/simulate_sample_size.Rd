% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sampling.R
\name{simulate_sample_size}
\alias{simulate_sample_size}
\title{Simulate sampling distributions for proportion estimates}
\usage{
simulate_sample_size(x, times = 5000)
}
\arguments{
\item{x}{A \code{sample_size} object returned by \code{compute_sample_size(as_dt = TRUE)}.}

\item{times}{Integer; number of repetitions per parameter combination
(default: \code{5000}).}
}
\value{
A \code{data.table} containing:
\describe{
\item{r, conf.level, n, z, se, ci_lo, ci_hi, band_lo, band_hi, label}{Design parameters inherited from input.}
\item{phat}{Simulated sample proportions from Binomial draws.}
}
}
\description{
Given a \code{sample_size} object (created by \code{compute_sample_size(as_dt = TRUE)}),
this function generates simulated proportion estimates (\code{phat})
by repeatedly sampling from the binomial distribution.
}
\details{
For each unique combination of parameters (\code{p}, \code{r}, \code{conf.level}, \code{n}, etc.),
it draws \code{times} random samples of size \code{n} with success probability \code{p}
and computes the observed proportions (\code{phat = X / n}).

The resulting table can be used to visualize or compare the sampling
distributions under different parameter settings.

This function implements a simple Monte Carlo approximation of
the sampling distribution of the estimated proportion:
\deqn{ \hat{p} = \frac{1}{n}\mathrm{Binomial}(n, p) }

Each parameter combination from the \code{sample_size} design is simulated independently.
}
\examples{
\donttest{
# 1. Design sample-size plan
ss <- compute_sample_size(p = c(0.05, 0.1), r = 0.1, as_dt = TRUE)

# 2. Simulate sampling variability
simulate_sample_size(ss, times = 5000)
}

}
\seealso{
\code{\link[=compute_sample_size]{compute_sample_size()}}
}
